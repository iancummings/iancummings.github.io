<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<title>Git</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Git</h1>
<div id="toc" class="toc2">
<div id="toctitle">Contents</div>
<ul class="sectlevel1">
<li><a href="#install-setup">1. Install &amp; Setup</a>
<ul class="sectlevel2">
<li><a href="#setup">1.1. Setup</a></li>
</ul>
</li>
<li><a href="#ignore-everything">Ignore everything</a></li>
<li><a href="#but-not-these-files">But not these files&#8230;&#8203;</a></li>
<li><a href="#even-if-they-are-in-subdirectories">&#8230;&#8203;even if they are in subdirectories</a></li>
<li><a href="#blacklist-filesfolders-in-same-directory-as-the-gitignore-file">Blacklist files/folders in same directory as the .gitignore file</a></li>
<li><a href="#whitelist-some-files">Whitelist some files</a></li>
<li><a href="#ignore-all-files-named-ds_store-or-ending-with-log">Ignore all files named .DS_Store or ending with .log</a></li>
<li><a href="#whitelist-folderab1-and-folderab2">Whitelist folder/a/b1/ and folder/a/b2/</a></li>
<li><a href="#trailing-is-optional-for-folders-may-match-file-though">trailing "/" is optional for folders, may match file though.</a></li>
<li><a href="#is-not-optional-when-followed-by-a">"/" is NOT optional when followed by a *</a></li>
<li><a href="#create-a-new-annotated-tag-new-referencing-the-object">create a new annotated tag "new" referencing the object</a></li>
<li><a href="#which-the-old-annotated-tag-old-was-referencing">which the old annotated tag "old" was referencing:</a></li>
<li><a href="#merge-local-branch-foo-into-local-branch-master">Merge local branch foo into local branch master,</a></li>
<li><a href="#without-having-to-checkout-master-first">without having to checkout master first.</a></li>
<li><a href="#here-means-to-use-the-local-repository-as-the-remote">Here <code>.</code> means to use the local repository as the "remote":</a></li>
<li><a href="#merge-remote-branch-originfoo-into-local-branch-foo">Merge remote branch origin/foo into local branch foo,</a></li>
<li><a href="#without-having-to-checkout-foo-first">without having to checkout foo first:</a></li>
<li><a href="#which-branches-have-i-used-recently">which branches have I used recently?</a></li>
<li><a href="#common-base">common base:</a></li>
<li><a href="#ours">'ours'</a></li>
<li><a href="#theirs">'theirs'</a></li>
<li><a href="#10-retries-per-object">10 retries per object</a></li>
<li><a href="#packed-objects">packed objects</a></li>
<li><a href="#loose-objects">loose objects</a></li>
<li><a href="#switch-branch-without-checking-out-files-useful-for-bare-repos-or-guerilla-tactics-with-clearcase">switch branch without checking out files, useful for bare repos or guerilla tactics with clearcase</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="install-setup"><a class="anchor" href="#install-setup"></a>1. Install &amp; Setup</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>install git <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p>install kdiff3install Notepad2, Notepad++ or similar</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="setup"><a class="anchor" href="#setup"></a>1.1. Setup</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ git config --system user.name "Ian Cummings"
part of a st
$ git config --system user.email ian.cummings@misc-email.co.uk

$ git config --global mergetool.[tool].path "c:\Programs Files\...."

$ git config --global mergetool.[tool].trustExitCode [true|false]

not found out what this does:

$ git config --global mergetool.[tool].cmd [command-line call]</code></pre>
</div>
</div>
<div class="paragraph">
<p>So examples for setting up kdiff3:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ git config --global --add merge.tool kdiff3
$ git config --global --add mergetool.kdiff3.path "C:/Program Files/KDiff3/kdiff3.exe"
$ git config --global --add mergetool.kdiff3.trustExitCode false

$ git config --global --add diff.guitool kdiff3
then
$ git config --global --add difftool.kdiff3.path "C:/Program Files/KDiff3/kdiff3.exe"
or
$ git config --global mergetool.kdiff3.cmd '"C:\\Program Files (x86)\\KDiff3\\kdiff3" $BASE $LOCAL $REMOTE -o $MERGED'

$ git config --global --add difftool.kdiff3.trustExitCode false</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The use of the trustExitCode option depends on what you want to do when diff tool returns. From (<a href="https://git-scm.com/docs/git-difftool#git-difftool---no-trust-exit-code">documentation</a>):<br>
<code>git-difftool</code> invokes a diff tool individually on each file. Errors reported by the diff tool are ignored by default. Use <code>--trust-exit-code</code> to make <code>git-difftool</code> exit when an invoked diff tool returns a non-zero exit code.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>and for <code>meld</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Add the following to your .gitconfig file.
[diff]
    tool = meld
[difftool]
    prompt = false
[difftool "meld"]
    cmd = meld "$LOCAL" "$REMOTE"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
the <code>prompt = false</code> line simply stops Git from prompting you as to whether you want to launch Meld or not, by default Git will issue a prompt.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>and for using <code>meld</code> for merges:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Add the following to your .gitconfig file.
[merge]
    tool = meld
[mergetool "meld"]
    # Choose one of these two lines (not both!) explained below.
    cmd = meld "$LOCAL" "$MERGED" "$REMOTE" --output "$MERGED"      #<b class="conum">(1)</b>
    cmd = meld "$LOCAL" "$BASE" "$REMOTE" --output "$MERGED"        #<b class="conum">(2)</b></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Use 1 or 2, not both. meld has only 3 windows and the command determines whether the central window is loaded with the partially merged result, or just the base so that you will see to every difference.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="https://stackoverflow.com/questions/34119866/setting-up-and-using-meld-as-your-git-difftool-and-mergetool">Stack Overflow</a></p>
</div>
<div class="paragraph">
<p>$ git config --global core.editor "'C:/Program Files/Notepad/notepad.exe' -multiInst -notabbar -nosession -noPlugin"</p>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="paragraph">
<p>$ git config --global core.editor "'C:\Programs\Notepad2\Notepad2.exe' $*"</p>
</div>
<div class="paragraph">
<p>or&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>$ git config --system color.status auto</p>
</div>
<div class="paragraph">
<p>$ git config --system color.branch auto</p>
</div>
<div class="paragraph">
<p>$ git config --system color.status.changed "red bold"
$ git config --system color.status.untracked cyan**</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: Don't forget if you make a mistake +
git config *--unset* &lt;setting&gt;

=== ignoring files
create a .gitignore file in the same folder as your .git folder. The format is a list of files that shouldn't be included in git's operations

==== ignoring some, but not all...
From link:https://stackoverflow.com/questions/987142/make-gitignore-ignore-everything-except-a-few-files
An optional prefix "!"" which negates the pattern; any matching file excluded by a previous pattern will become included again. If a negated pattern matches, this will override lower precedence patterns sources.
[source,bash]</pre>
</div>
</div>
</div>
</div>
</div>
<h1 id="ignore-everything" class="sect0"><a class="anchor" href="#ignore-everything"></a>Ignore everything</h1>
<div class="paragraph">
<p>*</p>
</div>
<h1 id="but-not-these-files" class="sect0"><a class="anchor" href="#but-not-these-files"></a>But not these files&#8230;&#8203;</h1>
<div class="paragraph">
<p>!.gitignore
!script.pl
!template.latex
# etc&#8230;&#8203;</p>
</div>
<h1 id="even-if-they-are-in-subdirectories" class="sect0"><a class="anchor" href="#even-if-they-are-in-subdirectories"></a>&#8230;&#8203;even if they are in subdirectories</h1>
<div class="paragraph">
<p>!*/</p>
</div>
<div class="listingblock">
<div class="content">
<pre>You want to use pass:[/*] instead of pass:[*] or pass:[*/] in most cases

Using +++*+++ is valid, but it works recursively. It won't look into directories from then on out. People recommend using pass:[!*/] to whitelist directories again, but it's actually better to blacklist the highest level folder with /+++*+++

[source,bash]</pre>
</div>
</div>
<h1 id="blacklist-filesfolders-in-same-directory-as-the-gitignore-file" class="sect0"><a class="anchor" href="#blacklist-filesfolders-in-same-directory-as-the-gitignore-file"></a>Blacklist files/folders in same directory as the .gitignore file</h1>
<div class="paragraph">
<p>/*</p>
</div>
<h1 id="whitelist-some-files" class="sect0"><a class="anchor" href="#whitelist-some-files"></a>Whitelist some files</h1>
<div class="paragraph">
<p>!.gitignore
!README.md</p>
</div>
<h1 id="ignore-all-files-named-ds_store-or-ending-with-log" class="sect0"><a class="anchor" href="#ignore-all-files-named-ds_store-or-ending-with-log"></a>Ignore all files named .DS_Store or ending with .log</h1>
<div class="paragraph">
<p><strong>/.DS_Store
</strong>.log</p>
</div>
<h1 id="whitelist-folderab1-and-folderab2" class="sect0"><a class="anchor" href="#whitelist-folderab1-and-folderab2"></a>Whitelist folder/a/b1/ and folder/a/b2/</h1>

<h1 id="trailing-is-optional-for-folders-may-match-file-though" class="sect0"><a class="anchor" href="#trailing-is-optional-for-folders-may-match-file-though"></a>trailing "/" is optional for folders, may match file though.</h1>

<h1 id="is-not-optional-when-followed-by-a" class="sect0"><a class="anchor" href="#is-not-optional-when-followed-by-a"></a>"/" is NOT optional when followed by a *</h1>
<div class="paragraph">
<p>!folder/
folder/*
!folder/a/
folder/a/*
!folder/a/b1/
!folder/a/b2/</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The above code would ignore all files except for ``.gitignore``, ``README.md``, ``folder/a/b1/`` and ``folder/a/b2/`` and everything contained in those two folders. (And ``.DS_Store`` files would be ignored in those folders.)

Obviously I could do e.g. ``!/folder`` or ``!/.gitignore`` too.

More info: http://git-scm.com/docs/gitignore[http://git-scm.com/docs/gitignore]

==== Local or Personal .gitignore files
If you want always to ignore some files in your repo, but don't want to add these filespecs to the main/project .gitignore file, then you can do the following (from link:https://medium.com/@peter_graham/how-to-create-a-local-gitignore-1b19f083492b[How to Create a Personal Gitignore]):

In your terminal, cd to the repository where you want to make a local gitignore.

 $ cd ~/Documents/my_repo

We want to edit the git config of the repository we’re in. The `—-local` flag specifies that we’re editing the config of just this repository and the `—e` flag tells git to edit the config. For more info on this, run `git config` to see all of the options.

 $ git config --local -e

This should bring you into vim mode looking at your local git config. Just make sure to add the excludesfile line under the `[core]` section and save it.

[source,bash]</pre>
</div>
</div>
<div class="olist core">
<ol class="core">
<li>
<p>(existing configurations)
excludesfile = ~/Documents/my_repo/.local_gitignore</p>
</li>
<li>
<p>(existing configurations)</p>
</li>
<li>
<p>(existing configurations)</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>Great! Now you have a local gitignore! Git will read from this file to determine what to not to track. You can treat it just like your other gitignore. Any file or directory you put in here will get ignored. Including itself. So what I do is put ".local_gitignore" at the top of my `.local_gitignore` file so it won’t get tracked either.


=== Caching User credentials
When interacting with a remote repository that has user logins requires the username and password to be entered for every `push` etc.
Git will cache these for you, albeit in plain text.

You can use the git config to enable credentials storage in git.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config credential.helper store</p>
</div>
<div class="listingblock">
<div class="content">
<pre>When running this command, the first time you pull or push from the remote repository, you'll get asked about the username and password.

After on, for consequent communications with the remote repository you don't have to provide the username and password.

The storage format is a `.git-credentials` file, stored in plaintext.

Also, you can use other helpers for the `git config credential.helper`, namely cache :

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config credential.helper cache &lt;timeout&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>which takes a 'timeout' parameter, determining for how long its deamon should run and the default value of it is 900 seconds (15 minutes).

[NOTE]
====
So the cache part of this (at least) doesn't work in Windows. Since msysgit 1.8.1 you can use:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global credential.helper wincred</p>
</div>
<div class="listingblock">
<div class="content">
<pre>It stores your details in the Windows credential Manager available from the Control Panel. Look for the entry citing the remote repository ip address, such as:

 git:http://ianc@10.162.62.52



I haven't found a cache version of this.
====

//============================================================================================

=== SSL
To turn off the default practice of checking the SSL certificate being used, turn off SSL verification:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global http.sslVerify false</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== git config
System, global, repository levels

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --list --show-origin</p>
</div>
<div class="listingblock">
<div class="content">
<pre>To edit a file, use

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config [--global] --edit/-e</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Aliases
These are stored in your '~/.gitconfig', so you can edit that file or type at the command line:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global alias.empty-commit "commit --allow-empty -m"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>so you can type
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git empty-commit "start a bugfix"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>These can be stored at a system (`--system`), global (`--global`), or repository (null) level. +
To see all aliases and where they are defined, use the config list show-origin as shown above




== Objects

=== Files

=== Branches

=== Tags

==== Create
There are two types of tags; a lightweight tag just stores the tag name, whereas an annotated tag can store a message.

A _lightweight_ tag:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git tag LT-C1.9.0</p>
</div>
<div class="listingblock">
<div class="content">
<pre>and a fully _annotated_ tag on a commit point other than HEAD

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git tag -a LT-C1.9.0 -m "first release to FOM" a400f67fc4991cd97</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Delete
*Locally:*</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>*Remotely:* +
You probably won't need to do this often (if ever at all) but just in case, here is how to delete a tag from a remote Git repository.
If you have a tag named '12345' then you would just do this:</pre>
</div>
</div>
<div class="paragraph">
<p>$ git tag -d 12345
$ git push origin :refs/tags/12345</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Renaming
===== Simple
Combining the above sections you would execute:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git tag new old
$ git tag -d old
$ git push origin :refs/tags/old
$ git push origin --tags</p>
</div>
<div class="listingblock">
<div class="content">
<pre>===== Annotated
As annotated tags point to a tag object rather than just a commit, you have to create a new annotated tag object from dereferencing the tag, which would otherwise just point to the (soon to be deleted) tag object.

[source,bash]</pre>
</div>
</div>
<h1 id="create-a-new-annotated-tag-new-referencing-the-object" class="sect0"><a class="anchor" href="#create-a-new-annotated-tag-new-referencing-the-object"></a>create a new annotated tag "new" referencing the object</h1>

<h1 id="which-the-old-annotated-tag-old-was-referencing" class="sect0"><a class="anchor" href="#which-the-old-annotated-tag-old-was-referencing"></a>which the old annotated tag "old" was referencing:</h1>
<div class="paragraph">
<p>$ git tag -a new old^{}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Finally, make sure that the other users remove the deleted tag. Please tell them(co-workers) to run the following command:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git fetch --prune &lt;remote&gt; "+refs/tags/<strong>:refs/tags/</strong>"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The following worked prior to 1.9.0:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git pull --prune --tags</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Submodules
* link:https://git-scm.com/book/en/v2/Git-Tools-Submodules[git-scm]

The parent repository stores the commit hash of each submodule, not the code of the submodule itself.


==== Update a submodule
To update a submodule you must do it explicitly:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ cd &lt;submoduledir/&gt;
$ git pull origin master
$ cd ..
$ git status</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you are updating your local copy from a master that has updated submodules you do this:

 $ git pull origin master
 $ git &lt;submodule&gt; update --recursive

If you've changed something in the submodule and want to commit

 $ git add &lt;submoduledir&gt;
 $ git commit -m "Update submodule"


//----------------------------------------------------------------------------------
== Operations

=== Fetching

==== Merge, update, and pull branches without using checkouts
(from https://stackoverflow.com/questions/3216360/merge-update-and-pull-git-branches-without-using-checkouts) +
When doing a fetch, all the objects and the remote branch pointers are copied locally, but the local branch pointers are not updated. This is quite often the desired result, but sometimes you may want to keep your local `master` up to date while working on a feature branch without swapping branches and doing a `pull`. As long as you're doing a fast-forward merge, then you can simply use you can achieve this on a branch by branch basis by using `git fetch` with a refspec.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git fetch &lt;remote&gt; &lt;sourceBranch&gt;:&lt;destinationBranch&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: You cannot merge a branch B into branch A without checking out A first if it would result in a non-fast-forward merge. This is because a working copy is needed to resolve any potential conflicts.

This also works purely locally if you want to merge two local branches without checkout them out first:

[source,bash]</pre>
</div>
</div>
<h1 id="merge-local-branch-foo-into-local-branch-master" class="sect0"><a class="anchor" href="#merge-local-branch-foo-into-local-branch-master"></a>Merge local branch foo into local branch master,</h1>

<h1 id="without-having-to-checkout-master-first" class="sect0"><a class="anchor" href="#without-having-to-checkout-master-first"></a>without having to checkout master first.</h1>

<h1 id="here-means-to-use-the-local-repository-as-the-remote" class="sect0"><a class="anchor" href="#here-means-to-use-the-local-repository-as-the-remote"></a>Here <code>.</code> means to use the local repository as the "remote":</h1>
<div class="paragraph">
<p>$ git fetch . foo:master</p>
</div>
<h1 id="merge-remote-branch-originfoo-into-local-branch-foo" class="sect0"><a class="anchor" href="#merge-remote-branch-originfoo-into-local-branch-foo"></a>Merge remote branch origin/foo into local branch foo,</h1>

<h1 id="without-having-to-checkout-foo-first" class="sect0"><a class="anchor" href="#without-having-to-checkout-foo-first"></a>without having to checkout foo first:</h1>
<div class="paragraph">
<p>git fetch origin foo:foo</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The latter example could presumably be used to keep your local master branch up to date with remote master while continuing to work on another branch.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git fetch origin master:master</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This may not move the master branch pointer if you're on master (although then why not just pull?). This alias in your config file will help:

[source,bash]</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>sync = !sh -c 'git checkout --quiet HEAD; git fetch upstream master:master; git checkout --quiet -'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>1. `git checkout HEAD`: this puts your working copy into a detached-head state. This is useful if you want to update master while you happen to have it checked-out. I think it was necessary to do with because otherwise the branch reference for master won't move, but I don't remember if that's really right off-the-top of my head.

1. `git fetch upstream master:master`: this fast-forwards your local master to the same place as upstream/master.

1. `git checkout` - checks out your previously checked-out branch (that's what the "-" does in this case).

=== Commit
==== Only files git already knows about
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git add -u &lt;filespec&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Only parts of files that you have modified
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git add -p &lt;filespec&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or if you're brave/sure
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git commit -p &lt;filespec&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Cherry Picking
For a single or a range of commits.
Git’s cherry-pick command allows you to specify a range of commits to be cherry picked onto the current branch. This can be done with the A..B style syntax — where A is the older end of the range.

Consider a scenario with the following chain of commits: A - B - C - D.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cherry-pick B..D</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This will cherry pick commits C and D onto HEAD. This is because the lower-bound is exclusive. If you’d like to include B as well. Try the following:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cherry-pick B^..D</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Cherry Pick a __File__, Rather Than a _Commit_

[TIP]
.How to "merge" specific files from another branch
=====
You can't use cherry-pick as that wants to merge a commit, not a file. +
Our good friend `git checkout` is the right tool for the job.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout source_branch &lt;paths&gt;&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git checkout actually accepts any tree-ish here. So you’re not limited to grabbing code from the current tip of a branch; if needed, you can also check out files using a tag or the SHA for a past commit.
=====


See https://jasonrudolph.com/blog/2009/02/25/git-tip-how-to-merge-specific-files-from-another-branch/[this]

*NOTE* The above will bring across the whole file and replace the one you have. If you want to merge the two you can use an interactive command line approach:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout --patch origin/[branch] [folder/path]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This goes through each hunk and allows you to say yes/no each time.

The `PATCH` tool always gives you access to the following options:

   y - stage this hunk
   n - do not stage this hunk
   q - quit; do not stage this hunk nor any of the remaining ones
   a - stage this hunk and all later hunks in the file
   d - do not stage this hunk nor any of the later hunks in the file
   g - select a hunk to go to
   / - search for a hunk matching the given regex
   j - leave this hunk undecided, see next undecided hunk
   J - leave this hunk undecided, see next hunk
   k - leave this hunk undecided, see previous undecided hunk
   K - leave this hunk undecided, see previous hunk
   s - split the current hunk into smaller hunks
   e - manually edit the current hunk
   ? - print help

TIP: 's' is especially useful here if the hunk splitting is too coarse.

==== Cherry pick but don't commit
(from link:https://stackoverflow.com/questions/1526044/partly-cherry-picking-a-commit-with-git[stack overflow])

The core thing you're going to want here is git add -p (-p is a synonym for --patch). This provides an interactive way to add in content, letting you decide whether each hunk should go in or not, and even letting you manually edit the patch if necessary.

To use it in combination with cherry-pick:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cherry-pick -n &lt;commit&gt; # get your patch, but don&#8217;t commit (-n = --no-commit)
$ git reset                   # unstage the changes from the cherry-picked commit
$ git add -p                  # make all your choices (add the changes you do want)
$ git commit                  # make the commit!</p>
</div>
<div class="listingblock">
<div class="content">
<pre>You can provide specific paths to add -p if necessary. If you're starting with a patch you could replace the cherry-pick with apply.

WARNING: It's been mentioned that there may be problems with this when the change was a file addition. The git reset would remove the staged files and the `add -p` would just say "nothing to add".

NOTE: This method doesn't retain the original commit author and commit date. You can set these with +
`git commit --author="USER &lt;MAIL&gt;" --date="DATE"`, use the author and date details shown on top of `git show CHERRY_PICK_SHA`

=== Branches

==== Push and delete remote branches
To push the branch up to a remote repo:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push origin &lt;newfeature&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Where _origin_ is your remote name and _&lt;newfeature&gt;_ is the name of the branch you want to push up. +
A handy way to push the current branch to the same name on the remote:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push origin HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Deleting the remote copy is a simple task (despite it feeling a bit kludgy)

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push origin :&lt;newfeaturebranch&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>That will delete the &lt;newfeature&gt; branch on the origin remote, but you’ll still need to delete the branch locally with

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git branch -d &lt;newfeaturebranch&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>N.B. To delete tags in a remote repo
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push origin :refs/tags/[tag name]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Seldom required, but if you need to force-replace the remote master branch, creating it if missing then

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push -f origin +master:refs/heads/master</p>
</div>
<div class="listingblock">
<div class="content">
<pre>===== Push all branches to a Remote Repository
This is often useful if you have a backup or a copy repository that you want to reflect all branches that you have in your repository, including the `remote/` branches that you don't have a local copy of (have never checked out).

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push &lt;target-repo&gt; "<strong>:</strong>"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Renaming
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git branch -m &lt;oldname&gt; &lt;newname&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or if you're renaming your current branch
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git branch -m &lt;newname&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Checkout a previous branch
_From 1.6.2 release notes:_

`@{-1}` is a way to refer to the last branch you were on. This is accepted not only where an object name is expected, but anywhere a branch name is expected and acts as if you typed the branch name.
E.g. `git branch --track mybranch @{-1}`, `git merge @{-1}`, and
`git rev-parse --symbolic-full-name @{-1}` would work as expected.

I've added the below to my `~/.gitconfig`. This Bash one-liner script is not perfect but it should work for most cases. Note that sometimes the number may skip.

[source,bash]</pre>
</div>
</div>
<h1 id="which-branches-have-i-used-recently" class="sect0"><a class="anchor" href="#which-branches-have-i-used-recently"></a>which branches have I used recently?</h1>
<div class="paragraph">
<p>branch-reflog   =  "!f() { i=0; while [ $? -eq 0 ]; do i=$i+1; echo -n \"$i. \"; git rev-parse --symbolic-full-n&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Also `git checkout -` is a shorthand for `git checkout @{-1}`

==== Branch Descriptions

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git branch --edit-description</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This will open up your editor and let you attach metadata to the branch. You can extract it with:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git config branch.&lt;branch&gt;.description</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Some important notes:

1. This is stored locally. By definition it can't be pushed since it's stored in `.git/config`. All the same it works great for this use case.

2. If you delete the branch, the description will delete as well.

3. You can push this description into merge commits if you set +

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global merge.branchdesc true</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This means when you issue `git merge --log &lt;branch&gt;`, it'll force the branch description into the stock merge commit message. This has a lot of uses. For example, this is how you could track topic branch release notes.

NOTE: To edit the description of a branch other than the current one, use +
`git branch --edit-description &lt;branch&gt;`

=== Stash

==== Show dates of stashes
 $ git stash list --date=local

or

 $ git stash list --date=relative

==== Show a diff of a stash

 $ git difftool stash@{n}

When doing a gui difference between your current working files and  `stash@{n}`, the display is

|====
| {file} (A) | {file} (B)

| file in stash | current working working file
|====

==== Diff a stash against the work tree when it was created
This will show the diff of the stash's work-tree commit against the commit that was current when the stash itself was made.

 $ git stash list -p

Also, see below...


[TIP]
====
If the branch that your stashed changes are based on has changed in the meantime, this command may be useful:

  git diff stash@{0}^! +

This compares the stash against the commit it is based on.
====

==== Apply part of a stash

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout -p stash@{0}&#8201;&#8212;&#8201;&lt;filename&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: You can also do this with a list or a glob of filenames

Why does it work? +
The key is to realize that stashes are, in essence, references to commits just like tags and branches. +
Indeed, they're stored in .git/refs/stash, one line per stash hash.

See link:https://stackoverflow.com/questions/28195778/git-stash-apply-with-interactive-mode[here] for caveats and workarounds.

==== Dump all your stashes to patch files

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git stash list| sed 's/\//_/g'|sed 's/ /\_/g' | awk -F ":" '{ system("git stash show -p " $1 " &gt;&gt; \"" $1$2$3 "patch\"" ) }'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The `stash list` just lists the stash titles and replaces spaces with underscores etc. Then for each of those, it creates a file with the name of the stash, and the contents being the "patch" output that you get when running a `git stash show -p` command.

=== Patches

What I often do (in git bash) is

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git stash show -p 'stash@{0}' &gt;tmp.patch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Then I edit the file and remove the parts I don't want. Finally I say

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$
&lt;tmp.patch git apply</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ &lt;tmp.patch patch -p1</p>
</div>
<div class="listingblock">
<div class="content">
<pre>It doesn't work for binary files, though,


=== Remote repositories
Check current values with
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote -v</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Adding a remote
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote add &lt;name&gt; &lt;URL&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or if you want to use file access
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git add remote &lt;chosen-name&gt; &lt;path-to-dot-git&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>for example, in my `qx_sw` repository I wanted to connect to my new repo (`qx_develop`) to push a temporary branch that had some work I needed there:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git add remote qx_develop ~/remotegit/qx_develop/.git</p>
</div>
<div class="listingblock">
<div class="content">
<pre>then I checkout the branch in question and typed:

[spurce,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push [--no-verify] qx_develop HEAD
Enumerating objects: 88, done.
Counting objects: 100% (88/88), done.
Delta compression using up to 14 threads
Compressing objects: 100% (49/49), done.
Writing objects: 100% (49/49), 21.63 KiB | 527.00 KiB/s, done.
Total 49 (delta 40), reused 0 (delta 0), pack-reused 0
To /home/ianc/remotegit/qx_develop/.git
 * [new branch]          HEAD &#8594; PJ70-174/wip/5_quad_analyser_picture_instrument</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Renaming
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote rename &lt;fromName&gt; &lt;toName&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Removing
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote rm &lt;name&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Changing a Remote's URL
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote set-url [--push] origin &lt;URL&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Remove/Delete a Tag in a Remote Repository
Two ways of doing it; the old way

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push origin :tagname</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or the more readable
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push --delete origin tagname</p>
</div>
<div class="listingblock">
<div class="content">
<pre>the local variant being
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git tag --delete tagname</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Prune
Pruning usually means deleting unwanted branches or tags. This often occurs if a branch is deleted on a remote repo, but you still have a tracking branch (remote/origin/...). +
If you're scrupulous, you can keep these uner control by always typing

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git fetch --prune</p>
</div>
<div class="listingblock">
<div class="content">
<pre>whenever you fetch.

You can see how many of these you have first by typing

[source,sh]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote prune --dry-run origin</p>
</div>
<div class="listingblock">
<div class="content">
<pre>and repeating the command without the `--dry-run` if you're happy.


=== clone - TBC

$ git clone &lt;URL&gt; &lt;path&gt;


==== Bare
Make a bare Git repository. That is, instead of creating &lt;directory&gt; and placing the administrative files in &lt;directory&gt;/.git, make the &lt;directory&gt; itself the $GIT_DIR. This obviously implies the -n because there is nowhere to check out the working tree. Also the branch heads at the remote are copied directly to corresponding local branch heads, without mapping them to refs/remotes/origin/. When this option is used, neither remote-tracking branches nor the related configuration variables are created.

==== Mirror
Set up a mirror of the source repository. This implies `--bare`. Compared to `--bare`, `--mirror` not only maps local branches of the source to local branches of the target, it maps all refs (including remote-tracking branches, notes etc.) and sets up a refspec configuration such that all these refs are overwritten by a git remote update in the target repository.

==== Depth
Create a shallow clone with a history truncated to the specified number of revisions.

==== Mirror &amp; Depth
To create a mirrored repo that has limited depth


and to keep it updated with all branches to a depth of 5

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git fetch --depth=5 origin '+refs/heads/<strong>:refs/heads/</strong>'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Separate-git-dir
Instead of placing the cloned repository where it is supposed to be, place the cloned repository at the specified directory, then make a filesystem-agnostic Git symbolic link to there. The result is Git repository can be separated from working tree.


=== Checkout
==== Checkout a file from a different branch
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout &lt;other-branch-name&gt;&#8201;&#8212;&#8201;path/to/your/folder</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Push

==== To PUSH all branches (including remote)

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push --no-verify shared '<strong>:</strong>'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>also, `--mirror` can sometimes work.

=== Pull requests
If a pull request has conflicts (as detected by BitBucket for example), you should merge the branch onto master locally.

 This pull request has conflicts.

You must resolve the conflicts by manually merging this branch into master. This will merge the pull request remotely. +

**Step 1**: Checkout the target branch and merge in the changes from the source branch. Resolve conflicts.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout master
$ git pull origin improve/python3_linux_cherrypy</p>
</div>
<div class="listingblock">
<div class="content">
<pre>**Step 2**: After the merge conflicts are resolved, stage the changes accordingly, commit the changes and push.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git commit
$ git push origin HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>**Step 3**: The pull request will be updated and marked as merged.

=== Reset
This command is used for

1. cleaning up when things have got out of hand
1. Moving branches so that they now point somewhere different (without any merging, rebasing, checking out, etc)

==== Soft: move HEAD to target
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reset --soft [SHA]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This moves (your branch) HEAD. Unlike checkout, it doesn't change your current branche, it's just that your branch now points to the commit SHA you've specified. So the current branch will now point to that commit. +
So the following is a NOP

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reset --soft HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Mixed: copy to index
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reset --mixed [SHA] // this is the default</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This will do the same as soft above, but then also update the index with the contents of whatever tree HEAD now points to.

This is the command to use to undo a stage or undo and add:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reset HEAD file.txt</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Hard: copy to working directory
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reset --hard [SHA]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This does all that mixed and soft do, but then also makes the working directory look like the index. +

NOTE: If you are really in trouble, try +
$ git reset --hard origin/master


==== Single file changes
You can restore a file's contents before a change with the following:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reset origin/master path/to/file-to-be-changed.ext</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(from http://schacon.github.com/resetvcheckout)

.Reset v. Checkout ([yellow]#yellow# means that the command affects the value)
[cols="52%,12%,12%,12%,12%"]
|==========
| | HEAD	|Index	|Work Dir	|WD Safe
| *Commit Level* 4+|
| reset --soft [commit]	|REF {set:cellbgcolor:yellow} | NO
{set:cellbgcolor!} |NO |YES
|reset [commit]
{set:cellbgcolor!} |{set:cellbgcolor:yellow}REF |YES |NO
{set:cellbgcolor!} |YES
|reset --hard [commit]|{set:cellbgcolor:yellow} REF| YES |YES | NO
|checkout [commit]
{set:cellbgcolor!}| HEAD {set:cellbgcolor:yellow}| YES| YES| YES
{set:cellbgcolor!}
|*File Level* 4+|
|reset (commit) [file]| NO |YES {set:cellbgcolor:yellow} |NO
{set:cellbgcolor!} |YES
|checkout (commit) [file] |NO |YES {set:cellbgcolor:yellow} |YES |NO {set:cellbgcolor!}
|==========

=== Remote Repositories
==== Change Remote URL
To change the address of your remote repository:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote set-url origin &lt;url&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>URLS can be file, http, ssh, etc

* /d/repos/project
* ssh://user@example.com:XX/package/name.git    (XX is port #)
* +https://uknby1bitmirror.gad.local/scm/mtlstash/lt/portmanagerws.git+
* git://github.com/chief/global.git

However, this often only sets the fetch URL and not the push URL (it's not always obvious why). Be sure to check after executing above with

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote -v</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If the URLs are different, it it likely that the PULL is correct and the PUSH is incorrect. To set the latter explicitly, use the following:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git remote set-url --push origin &lt;url&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This technique of having different PUSH and PULL is useful when forking. +
(from http://blog.yuriy.tymch.uk/2012/05/different-git-push-pullfetch-urls.html) +

You can edit a `.git/config` file. When you'll first open it you should see something like this:

[source,ini]</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>fetch = +refs/heads/*:refs/remotes/origin/*
url = git@github.com:User/forked.git</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Now all you have to do is change url to value to the repo you've forked from, and add a pushurl variable with the value of your repo. Your config with now look like this:

[source,ini]</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>fetch = +refs/heads/*:refs/remotes/origin/*
url = git://github.com/chief/global.git
pushurl = git@github.com:User/forked.git</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Merging

==== Standard

==== Overwriting a Branch (make that like this)
(from: link:https://stackoverflow.com/questions/4624357/how-do-i-overwrite-rather-than-merge-a-branch-on-another-branch-in-git)[Stack Overflow]) +

You can use the 'ours' merge strategy:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout latest-branch
$ git merge -s ours discard-branch # Merge branches, but use our (=latest-branch) branch head
$ git checkout discard-branch
$ git merge latest-branch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[NOTE]
====
If you absolutely require the merge parents in the correct order, need to perform this action with a single command line invocation, and don't mind running plumbing commands, you can do the following:</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout A
$ git merge --ff-only $(git commit-tree -m "Throw away branch 'A'" -p A -p B B^{tree})</p>
</div>
<div class="listingblock">
<div class="content">
<pre>====

==== Conflicts
===== Resolve easy/obvious conflicts

. search for all conflicting files

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ grep -lr '&lt;&lt;&lt;&lt;&lt;&lt;&lt;' .</p>
</div>
<div class="listingblock">
<div class="content">
<pre>At this point you may review each files. If solution is to accept local/our version, run:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git checkout --ours PATH/FILE</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If solution is to accept remote/other-branch version, run:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git checkout --theirs PATH/FILE</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you have multiple files and you want to accept local/our version, run:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>grep -lr '&lt;&lt;&lt;&lt;&lt;&lt;&lt;' . | xargs git checkout --ours</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you have multiple files and you want to accept remote/other-branch version, run:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>grep -lr '&lt;&lt;&lt;&lt;&lt;&lt;&lt;' . | xargs git checkout --theirs</p>
</div>
<div class="listingblock">
<div class="content">
<pre>//===== Three-way Merges (mergetool)
//The mergetool (__kdiff3__) shows you three windows; __base__, __local__, and __remote__.

//* *BASE* - the common ancestor(s) of LOCAL and REMOTE.
//* *LOCAL* - the head for the file(s) from the current branch on the machine that you are using, or the branch onto which you are rebasing (e.g. `develop`)
//* *REMOTE* - the head for files(s) (from a remote location) that you are trying to merge into your LOCAL branch, or the file from the branch you are rebasing or cherry-picking from.
//* *MERGED* - the tag / HEAD object after the merge - this is saved as a new commit.


//|====
//| Base | Local | Remote
//| the common ancestor(s) of LOCAL and REMOTE. | * the head for the file(s) from the current branch on the machine that you are using or +
//* the branch onto which you are rebasing (e.g. `develop`) | * the head for files(s) (from a remote location) that you are trying to merge into your LOCAL branch or +
//* the file from the branch you are rebasing.
//|====

===== Three-way Merges (mergetool)
The mergetool (__kdiff3__) shows you three windows; __base__, __local__, and __remote__. +

If you sit on your _feature_ branch, and _rebase_ that onto __develop__, the following applies:

* *BASE* - the common ancestor(s) of LOCAL and REMOTE.
* *LOCAL*
** __Merging__: the head for the file(s) from the current branch on the machine that you are using
** __Rebasing__: the file from the branch onto which you are rebasing (e.g. `develop`)
** __Cherry-picking__: the local file
* *REMOTE*
** __Merging__: the head for files(s) (from a remote location) that you are trying to merge into your LOCAL branch, or the file from the branch you are rebasing or cherry-picking from.
** __Rebasing__: the file from the branch which you are rebasing (e.g. `feature`)
** __Cherry-picking__: the file from the commit you're cherry picking
* *MERGED* - the tag / HEAD object after the merge - this is saved as a new commit.


//|====
//| Action |Base | Local | Remote
//| all | the common ancestor(s) of LOCAL and REMOTE. ||
//| merging | * the head for the file(s) from the current branch on the machine that you are using or +
//* the branch onto which you are rebasing (e.g. `develop`) | sdf |sldkfj
//| rebasing | * the head for files(s) (from a remote location) that you are trying to merge into your LOCAL branch or +
//* the file from the branch you are rebasing.
//| dd | ss
//|====

===== Trickier conflicts

For an unmerged file in a conflict git makes available the common base, local and remote versions of the file in the index. (This is where they are read from for use in a 3-way diff tool by git mergetool.) You can use git show to view them.

[source,bash]</pre>
</div>
</div>
<h1 id="common-base" class="sect0"><a class="anchor" href="#common-base"></a>common base:</h1>
<div class="paragraph">
<p>$ git show :1:_widget.html.erb</p>
</div>
<h1 id="ours" class="sect0"><a class="anchor" href="#ours"></a>'ours'</h1>
<div class="paragraph">
<p>$ git show :2:_widget.html.erb</p>
</div>
<h1 id="theirs" class="sect0"><a class="anchor" href="#theirs"></a>'theirs'</h1>
<div class="paragraph">
<p>$ git show :3:_widget.html.erb</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The simplest way to resolve the conflict to use the remote version verbatim is:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show :3:_widget.html.erb &gt;_widget.html.erb
$ git add _widget.html.erb</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Or, with git &gt;= 1.6.1:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout --theirs _widget.html.erb</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Updating Submodules
* link:https://git-scm.com/book/en/v2/Git-Tools-Submodules[git-scm]

The standard command appears to be
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git submodule update --remote --init</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Then committing the files into your branch.

I have had occasions where this didn't work (I had modifications in the submodule), so I googled and found that if you run `git submodule update --remote`, Git will go into your submodules and fetch and update for you.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git submodule update --remote DbConnector
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 4 (delta 2), reused 4 (delta 2)
Unpacking objects: 100% (4/4), done.
From <a href="https://github.com/chaconinc/DbConnector" class="bare">https://github.com/chaconinc/DbConnector</a>
   3f19983..d0354fc  master     &#8594; origin/master
Submodule path 'DbConnector': checked out 'd0354fc054692d3906c85c3af05ddce39a1c0644'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Rebase

==== General "Safe" Method

1. ensure everything is committed or stashed
1. ensure the branch you're rebasing onto is up to date +
fetch,pull, etc
1. create a new (temporary) branch on top of your current branch, e.g. +
`git checkout -b tmp/rebase/b4anc-collector PJ70-437/task/investigate_multiple_ipcore_datacores`
1. `git rebase &lt;branchname&gt;`
1. repeat +
`git mergetool` +
`git add &lt;conflicted-file&gt;` +
`git rebase --continue` +
1. test result
1. we now have a successful rebase on the temp branch, and our original branch is still where it was and so we need to move the branch to "here" and delete the temp branch
1. for the paranoid, checkout the "old" branch and add a tag/branch for posterity +
`git checkout  PJ70-437/task/investigate_multiple_ipcore_datacores` +
`git tag ianc/PJ70-437/b4rebase-and-anc-dev` +
return to rebased branch: +
`git checkout tmp/rebase/b4anc-collector`
1. move the branch to your current position +
`git branch --force PJ70-437/task/investigate_multiple_ipcore_datacores [optional-commit]`

All done.

==== Backing Out or Dry Run
If you think all should work without any conflicts then this will revert if it comes across any conflicts

 $ git rebase ... || git rebase --abort

And if the rebase is successful but you realise that you want to undo it, you can run

 $ git reset --hard ORIG_HEAD #<b class="conum">(1)</b>

&lt;1&gt; ORIG_HEAD _may_ not always point to where you want (if you've done a git reset or similar during the rebase). You can use `git reset --hard @{1}`

You can create a new branch and try rebasing that, which will leave your current branch alone.

 $ git checkout your-branch
 $ git checkout -b tmp
 $ git rebase other-branch

( or `git checkout -b tmp your-branch`)


==== Reusing Previous Conflict Resolutions
See link:https://git-scm.com/book/en/v2/Git-Tools-Rerere[git-scm] on `rerere`

I belive this word is derived from **re**member the **re**solution of a **re**base

=== Rebase "--onto"
You add `--onto` to the rebase command if you want to move the brnach to a different branch from where it was started. See ProGit 2nd Edition page 70

=== Squashing
There's a good article link:https://www.freecodecamp.org/news/git-squash-commits/[here]

==== When Merging
A common case is to merge a branch and squash the commits so ony the result is preserved. This is done simply by adding the `squash` switch as shown here

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout master
$ git merge --squash bugfix
$ git commit</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Squash Commits in one branch
If you have a branch of commits, and you want to squash a number of them into one, we can do that by effectively moving the branch pointer back and the re-commiting all the changes in one go.

Assume myBranch original like:

  ...M---A---B---...---N---...---X  myBranch

If you need to squash commits from A to X, you just need to find the parent of commit A (as commit M in above graph), and then use the commands

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout myBranch
$ git reset --soft &lt;commit id for M&gt;
$ git commit -m 'squash commit from A to X'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Then the commits on `myBranch` will be (the squash commit is `S`):

 ...M---S  myBranch

=== Hints &amp; Tips
==== Standard

===== Revert part of a file
You can use git checkout -p, which lets you choose individual hunks from the diff between your working copy and index to revert. Likewise, git add -p allows you to choose hunks to add to the index, and git reset -p allows you to choose individual hunks from the diff between the index and HEAD to back out of the index.
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout -p file/to/partially/revert
# or &#8230;&#8203;
$ git checkout -p .</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you wish to snapshot your git repository beforehand to preserve these changes before reverting them, I like to do:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git stash; git stash apply</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you use that often, you might want to alias it:

[source,bash]</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>checkpoint = !git stash; git stash apply</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>===== git log and show tags
It shows the tags, branches and the commit messages
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --no-walk --tags --pretty="%h %d %s" --decorate=full</p>
</div>
<div class="listingblock">
<div class="content">
<pre>restrict to a range of dates:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --after="2018-06-30" --before="2018-07-03" --oneline</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Advanced

==== Workflow
===== Revisiting a feature branch
Consider the following

. create a feature branch (with anchor tag)
. do work
. merge back to master
. do some master things
. find a bug with the feature

At this point we'd like to add some further changes to the feature branch, but the branch ended a while ago ad if we just move the branch to the lastest commit, we've lost any history of the feature developemnt. We could create a new branch from master with a similar name but that's a different branch. If we just carry on developing from the current branch point, we don't have our latest chnages on master and we'll have to merge work with old code and then merge to master again (and test again). +

*So..the following workflow:*


1. git checkout &lt;feature-branch&gt;
2. find commit where feature branch was merged to master
3. go to the previous commit in the feature branch +
_(if the last commit was a single one and the previous commit was a merge to master then goto step 5)_
4. git reset --hard &lt;feature-branch&gt;
5. git commit --allow-empty -m "revisit &lt;feature-branch&gt;: bugfix"
6. git fetch
7. git merge origin/master
8. develop/fix


*This is doing the following*

1. we want to move the branch so let's get on it
2. this was the end of the feature branch; the branch should actually already be here
3. this is the last commit that's purely to do with the feature development
4. move the branch pointer back away from the merge with master to the last feature commit
5. add an empty commit to keep us on this branch and separate any merges from getting squashed/compressed into master
6. make sure we're up to date before merging master
7. get us up to date so we can continue our branch development.
8. we're ready to go and commit to branch with further changes.


==== How to undo almost anything
https://github.blog/open-source/git/how-to-undo-almost-anything-with-git/


==== Bare Repositories
===== Change the active branch

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git symbolic-ref HEAD refs/heads/mybranch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Which will update the HEAD file in your repository so that it contains:

 ref: refs/heads/mybranch

as documented in the http://www.kernel.org/pub/software/scm/git/docs/git-symbolic-ref.html[git-symbolic-ref]

===== Update a Bare Repository

Typing `git fetch` in a bare repository doesn't update the branch heads (I don't know whether it pulls the objects; it doesn't appear to). To do this you have to:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git --git-dir=foo.git fetch origin +refs/heads/<strong>:refs/heads/</strong> --prune</p>
</div>
<div class="listingblock">
<div class="content">
<pre>* leave out the `--git-dir=..." if you have already changed directory to the repository.

You can set this up to happen every time by setting this config

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config remote.origin.fetch 'refs/heads/<strong>:refs/heads/</strong>'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>you can then `git fetch` and you'll see the updates. +
The weird thing is that before this, even though there is a remote configured, it has no branches listed in `git branch -a`.

The alternative is not to use a bare repository, but to use a mirror:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git clone --mirror &lt;remote_repo&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>then after that, you can update using

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git fetch --all</p>
</div>
<div class="listingblock">
<div class="content">
<pre>if you want to remove branches deleted in the remote repository:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git fetch --prune</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you've pushed to the mirror, you can push that back to its origin by:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git push --mirror</p>
</div>
<div class="listingblock">
<div class="content">
<pre>See link::https://stackoverflow.com/questions/2756747/mirror-a-git-repository-by-pulling/2756894#2756894[mirror a git repository by pulling] +

NOTE: To change an existing bare repo to mirror, all you need to do is add 2 lines to the git config file at &lt;REPO&gt;.git/config. +
In the `[remote "origin"]` section, add **fetch = +refs/*:refs/*** and `mirror = true`


===== Created a detached master branch
(from https://stackoverflow.com/questions/1485578/change-a-git-remote-head-to-point-to-something-besides-master/2962737#2962737[Stack Overflow])
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git init
touch GO_AWAY
git add GO_AWAY
git commit -m "GO AWAY - this branch is detached from reality"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>That gives us a master branch with a rude message (you may want to be more polite). Now we create our "real" branch (let's call it trunk in honour of SVN) and divorce it from master:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git checkout -b trunk
git rm GO_AWAY
git commit --amend --allow-empty -m "initial commit on detached trunk"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Hey, presto! `gitk --all` will show master and trunk with no link between them.

The "magic" here is that `--amend` causes git commit to create a new commit with the same parent as the current HEAD, then make HEAD point to it. But the current HEAD doesn't have a parent as it's the initial commit in the repository, so the new HEAD doesn't get one either, making them detached from each other.

The old HEAD commit doesn't get deleted by git-gc because refs/heads/master still points to it.

The `--allow-empty` flag is only needed because we're committing an empty tree. If there were some `git add`'s after the `git rm` then it wouldn't be necessary.

In truth, you can create a detached branch at any time by branching the initial commit in the repository, deleting its tree, adding your detached tree, then doing `git commit --amend`.

== GitK Navigation &amp; Searching
=== Go to a SHA
Insert/copy (double click the box first to enable editing of the box) the SHA of the commit you want to find into the "SHA1 ID:" box (as you type, the box label will change to "Goto:") and press &lt;return&gt;

=== "Find"
This allows searching over several aspects of commits:

* commit message
* pathname (case sensitive)
* removal or insertion of a string in the code
* lines in the code matching a string

Select the function from the drop down menu, enter the text, and then hit the up or down arrow.

=== Search
This will find instances of the given string *in the current commit* in the filename, file contents, or the commit message.

NOTE: Using the command line `gitk -S"&lt;search-text&gt;"` will find commits (and their parents) where the given text has been inserted (or removed?) in any files of a commit.

==== Searching all files in all branches
When you're really stuck!

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git rev-list --all | xargs git grep "&lt;search-pattern&gt;"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This searches all commits of all branches and therefore can take a considerable time. The following only searches HEAD of each branch and so will be quicker:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git grep "&lt;search-pattern&gt;" <code>git show-ref -s --heads</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>//----------------------------------------------------------------------------------
== Git bisect

 git bisect start [--term-{old,good}=&lt;term&gt; --term-{new,bad}=&lt;term&gt;]
                  [--no-checkout] [&lt;bad&gt; [&lt;good&gt;...]] [--] [&lt;paths&gt;...]

=== Basics
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git stash save
$ git bisect start
$ git bisect bad
$ git bisect good &lt;sha&gt;
Bisecting: 2 revisions left to test after this (roughly 2 steps)
[&lt; &#8230;&#8203; sha &#8230;&#8203; &gt;] 3</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Tips

Read the fine manual -&gt; https://git-scm.com/docs/git-bisect

==== Stay on the first failing commit after bisect instead of going back to `master`:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git bisect reset HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== start + initial bad and good in one go:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git bisect start KNOWN_BAD_COMMIT KNOWN_GOOD_COMMIT~</p>
</div>
<div class="listingblock">
<div class="content">
<pre>is the same as:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout KNOWN_BAD_COMMIT
$ git bisect start
$ git bisect bad
$ git bisect good KNOWN_GOOD_COMMIT</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: remember to `git bisect reset` after you've finished!

==== Bisect log and bisect replay - see what has been tested so far
If you want to show other people your bisection process, you can get a log using for example:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git bisect log &gt; bisect_log.txt</p>
</div>
<div class="listingblock">
<div class="content">
<pre>After having marked revisions as good or bad, issue the following command to show what has been done so far:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git bisect log</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you discover that you made a mistake in specifying the status of a revision, you can save the output of this command to a file, edit it to remove the incorrect entries,
and then issue the following commands to return to a corrected state:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git bisect log &gt; that-file
$ git bisect reset
$ git bisect replay that-file</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== if you know the filename that's the culprit
We can specify a file name or path to `git bisect start` in case we know that the bug has come from particular files.

For example, suppose we knew that the changes that caused the regression were in the `com/workingDir` directory. Then we can run

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git bisect start com/workingDir</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This means that only the commits that changed the contents of this directory will be checked, and this makes things even faster.

=== if it’s difficult to tell if a particular commit is good or bad

I you're unsure of a specific test result, you can run

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git bisect skip</p>
</div>
<div class="listingblock">
<div class="content">
<pre>which will ignore it. Given there are enough other commits, git bisect will use another to narrow the search instead.

=== About the alogrithm

https://git-scm.com/docs/git-bisect-lk2009

=== Good,bad &amp; old,new
From Git 2.7, you can use different terms (from the docs):

_Sometimes you are not looking for the commit that introduced a breakage, but rather for a commit that caused a change between some other "old" state and "new" state._

_For example, you might be looking for the commit that introduced a particular fix.
Or you might be looking for the first commit in which the source-code filenames were finally all converted to your company's naming standard. Or whatever._

_In such cases it can be very confusing to use the terms "good" and "bad" to refer to "the state before the change" and "the state after the change"._

_So instead, you can use the terms "old" and "new", respectively, in place of "good" and "bad"._
_(But note that you cannot mix "good" and "bad" with "old" and "new" in a single session.)_

_In this more general usage, you provide `git bisect` with a "new" commit has some property and an "old" commit that doesn't have that property._

_Each time git bisect checks out a commit, you test if that commit has the property:_
_If it does, mark the commit as "new"; otherwise, mark it as "old"._

_When the bisection is done, `git bisect` will report which commit introduced the property._


//----------------------------------------------------------------------------------
== LFS
Git LFS allows the user to track binary files directly or by extension. After the files are tracked, Git LFS manages the files as Git normally would, while Git just maintains a text file with metadata about the binary file.

Git LFS stores the binary file content on a custom server or via GitHub, GitLab, or BitBucket’s built-in LFS storage. To find the binary content’s location, look in your repository’s `.git/lfs/objects` folder.

Git LFS uses a special Git Hook to handle pushing your LFS files to the special LFS location. Because LFS uses Git filters for handling diffs and proper storage, make sure Git Hooks can run on your machine.

When pulling or checking out a new branch, all files run through a smudge filter. The smudge filter puts a file into your working directory.

LFS reads the SHA stored in Git, then uses that to find the appropriate binary file in the `.git/lfs/objects` folder. If it does not find the file it needs, it attempts to download the file from the LFS server found in the local repository’s git config file.

Once the proper file is found or downloaded, Git LFS replaces the SSH-agent with the binary file in your working directory.

LFS uses the Git clean filter for changes ready for commit and runs when a file is staged. This filter reads the binary content from the file and converts it to a SHA, which will then be stored in Git while the original binary content will be stored in the `.git/lfs/objects` folder.

=== Smudge Filter
The Git smudge filter is what converts the LFS pointer stored in Git with the actual large file from the LFS server. If your local repository does not have the LFS object, the smudge filter will have to download it. This means that network issues could affect the smudge filter.

You can turn off the smudge filter with the command `git lfs install --skip-smudge`. However, you will be required to run `git lfs pull` after you pull down new changes or change branches. You will get the added benefit of parallel downloads through our transfer queue code.

If you're still having problems, you can configure Git LFS to retry multiple times:</pre>
</div>
</div>
<h1 id="10-retries-per-object" class="sect0"><a class="anchor" href="#10-retries-per-object"></a>10 retries per object</h1>
<div class="paragraph">
<p>$ git config lfs.transfer.maxretries 10</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Useful commands
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git lfs version
$ which git-lfs</p>
</div>
<div class="listingblock">
<div class="content">
<pre>//----------------------------------------------------------------------------------
== Reporting

=== Search commit messages
The basic command is
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --grep=&lt;pattern&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Or to search in gitk for a string, use the `Find` and the up or down arrows as shown below:

image::gitk-search4committext.jpg[]

=== git show
This will show details about any git object, and takes a SHA hash. Obviously the hash can be substituted by pointers such as branch names, HEAD, etc or even other git commands that return an expression if you enclose it in backticks.

Here is a contrived example:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show <code>git rev-parse HEAD</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>So this takes HEAD, finds the SHA it's pointing to and then we `git show` that HSA.

=== Inspect the contents of a file (or "blob")
Blobs is the name given to a git object that contains a file (the other objects are _tree_ and __commit__). To look at the contents of a blob, we first find out its SHA using `rev-parse`, and then use `cat-file` to see the contents (use `-p` switch to prettify the output).

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git rev-parse HEAD:README.md
eb8115e6b04814f0c37146bbe3dbc35f3e8992e0</p>
</div>
<div class="paragraph">
<p>$ git cat-file -p eb8115e6b04814f0c37146bbe3dbc35f3e8992e0 | head -n 8</p>
</div>
<div class="listingblock">
<div class="content">
<pre>TIP: `git rev-parse` and `git show-ref` are effectively antonyms; one expands the hash of an object and show-ref will turn object names (HEAD, branches, etc) into SHA hashes.



=== File history

==== Command-line methods

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log&#8201;&#8212;&#8201;&lt;filename&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or for a file history of commits showing the diffs

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log -p&#8201;&#8212;&#8201;&lt;filename&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or for a file history of commits including renames
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --follow -p&#8201;&#8212;&#8201;&lt;filename&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== GUI methods
There are two GUI methods:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ gitk [filename]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(insert `--follow` to include renames)

or the very usable git gui can do a `blame`

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git gui blame [--line=100] &lt;filename&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(the optional `line` parameter will move the window to that line number

=== Branches merged into a branch

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git branch --merged master</p>
</div>
<div class="listingblock">
<div class="content">
<pre>lists branches merged into master

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git branch --merged</p>
</div>
<div class="listingblock">
<div class="content">
<pre>lists branches merged into HEAD (i.e. tip of current branch)

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git branch --no-merged</p>
</div>
<div class="listingblock">
<div class="content">
<pre>lists branches that have not been merged

By default this applies to only the local branches. The -a flag will show both local and remote branches, and the -r flag shows only the remote branches.

=== Which files have been added/deleted between two branches?
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff --name-status --diff-filter=[(A|C|D|M|R|T|U|X|B)  master..branchName</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  --diff-filter=[(A|C|D|M|R|T|U|X|B)…[*]] +

Select only files that are

* Added (A)
* Copied +(C)+
* Deleted (D)
* Modified (M)
* Renamed +++(R)+++
* have their type (i.e. regular file, symlink, submodule, …) changed (T),
* are Unmerged (U)
* are Unknown (X)
* have had their pairing Broken (B)

Any combination of the filter characters (including none) can be used.

So if on a new feature branch:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff --name-status --diff-filter=AD  master</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or on master having just merged; what just happened?
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff --name-status --diff-filter=AD  head~1</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[NOTE]
====
A quicker way is to use `--name-status` over `--name-only` so you can see directly what change was made to the file; A:add, D:delete, M:modify
====

==== Where did this branch start?
Or what is the **most recent common ancestor** of two (or more?) branches? +
Git has a specific command for this; `merge-base` (it ought to be called _branch-base_)?

The basic command is

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git merge-base develop release_6_0_0</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This just gives you a SHA, so you can expand a bit by doing a `show`

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show $(git merge-base develop release_6_0_0)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log -1 $(git merge-base develop release_6_0_0)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>How to find the commit where this branch started its life

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show --summary <code>git merge-base &lt;branched&gt; &lt;branched-from&gt;</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>the basic command (for example)

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git merge-base improve/LTSYS-928-different-in-out-points  release/lt/7.5</p>
</div>
<div class="listingblock">
<div class="content">
<pre>will give you the SHA of the commit, the `git show...` just makes it useful!

NOTE: I think the order of the branches in the command is unimportant

=== Blame</pre>
</div>
</div>
<div class="paragraph">
<p>$ git blame [options] file</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Options
*-L &lt;startLine&gt;, &lt;endLine&gt;*
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git blame -L 364,370 Quentin/PortManagerWS/DatabaseAdmin.py</p>
</div>
<div class="listingblock">
<div class="content">
<pre>*-L:&lt;functionName&gt;*

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git blame -L:isUserAdmin Quentin/PortManagerWS/DatabaseAdmin.py</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== GUI version
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git gui blame &lt;file&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Finding most recent commits
Generaly the _git log_ command is what to use (the command _git whatchanged_ is essentially the same), but there are many particular reports of commits that might be required.

==== Most recent commits to branches
A list of all the branches in a Git repository with the "freshest" branches at the top, where the "freshest" branch is the one that's been committed to most recently.

*All singing and Dancing* +
There appear to be many variations (See link:https://stackoverflow.com/questions/5188320/how-can-i-get-a-list-of-git-branches-ordered-by-most-recent-commit[StackOverflow]) but probably the most comprehensive is this; it lists tags, local and remote branches with the most recent at the top.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>for ref in $(git for-each-ref --count=30 --sort=-committerdate --format="%(refname)" refs/heads/ refs/remotes ); do git log -n1 $ref --pretty=format:"%Cgreen%cr%Creset %C(yellow)%d%Creset %C(bold blue)&lt;%an&gt;%Creset%n" | cat ; done | awk '! a[$0]++'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>It's limited to 30 results; remove the
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>--count=30</p>
</div>
<div class="listingblock">
<div class="content">
<pre>to see all the results.

*The simplest*
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git for-each-ref --sort=-committerdate refs/heads refs/remotes</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This shows local and remote and displays the most recent at the end of the list and would be good for piping into _grep_ for example.

*Happy medium*

////
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git for-each-ref --sort=committerdate refs/heads/ refs/remotes/ --format='%(color:red)%(objectname:short) %(color:yellow)%(refname:short)%(color:reset) - %(color:reset) - %(contents:subject) - %(authorname) (%(color:green)%(committerdate:relative)%(color:reset))'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>////

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git for-each-ref --sort=-committerdate refs/heads refs/remotes/ --format='%(committerdate:iso8601) %(color:red)%(objectname:short) %(color:yellow)%(refname:short)%(color:reset) - %(color:reset) - %(contents:subject) - %(authorname) %(color:reset)'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>To add this to your config:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>branchdate = !git for-each-ref --sort=committerdate refs/heads/ refs/remotes/ --format='%(color:red)%(objectname:short) %(color:yellow)%(refname:short)%(color:reset) - %(color:reset) - %(contents:subject) - %(authorname) (%(color:green)%(committerdate:relative)%(color:reset))'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>Then +

  $ git branchdate

[NOTE]
You can make a make a bash file for adding all your favorite aliases and then share the script out to your team. Here's an example to add just this one:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>#!/bin/sh</p>
</div>
<div class="paragraph">
<p>git config --global alias.branches "!git for-each-ref --sort='-authordate:iso8601' --format='%(authordate:relative)%09%(refname:short)' refs/heads"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== What are the commits since &lt;sha1&gt; / between here and here?
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git rev-list &lt;since_hash&gt;..HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or to include the cimmit specified
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git rev-list &lt;since_hash&gt;^..HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: `^` means _first parent of_

=== Which branches/tags contain a specific commit?

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git branch --contains &lt;commit&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>and unsurprisingly

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git tag --contains &lt;commit&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>It only lists branches which contain the specified commit (HEAD if not specified). Implies --list.

=== Various Useful 'git log' commands

NOTE: add `--all` to show contributions from all branches rather than just the current one.

=== One line, compact
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --pretty=oneline [--abbrev-commit]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== One line, colourful summary

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --format='%Cred%h%Creset %s %Cgreen(%ci) %C(cyan)&lt;%an&gt;%Creset%C(yellow)%d%Creset'
  --no-merges</p>
</div>
<div class="listingblock">
<div class="content">
<pre>and with merges etc
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --graph
  --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset'
  --abbrev-commit</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --graph
  --pretty=format:'%C(yellow)%h%C(cyan)%d%Creset %s %C(white)- %an, %ar%Creset'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Make an alias:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global alias.lg
 "log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit --date=relative"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This particular versions will show one commit per line, graph of commits, abbreviated commit IDs, dates relative to now, commit references (like git log --decorate), lots of colour, author of the commit

or

 $ git config --global alias.logoneline=log --abbrev-commit --pretty=oneline


This shows branches etc in colour:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit --date=relative</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== List commits from particular author, between two dates
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git log --author="<a href="mailto:ian.cummings@grassvalley.com">ian.cummings@grassvalley.com</a>"
  --since "JAN 1 2020" --until "DEC 31 2020"
  --graph --pretty=format:'%h% -%d %s (%cr) &lt;%an&gt;'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Show what commits I would get from a  'git pull'
Assuming that your repo is up to date (do a fetch first), then we can show differences between HEAD and remote branch - i.e. what would I get if I did a "git pull"?

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log HEAD..origin/develop              - two dots    #&lt;1&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>this shows __commitId__, __author__, __date__, _commit messages_, etc

This command shows just the files that will change:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff --name-only HEAD&#8230;&#8203;origin/develop        - three dots! #&lt;2&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or for more detail:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git difftool HEAD&#8230;&#8203;origin/develop        - three dots! #&lt;2&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;1&gt; This command will give you a graphical colour display of the results:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit --date=relative  HEAD..origin/develop</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Previewing a merge
The simplest thing to do is to create a temporary branch from where you are, do a merge, and if it's not what you want then delete it.

=== Diffs
==== Between two commits
Generally:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff &lt;oldCommit&gt;..&lt;newCommit&gt;&#8201;&#8212;&#8201;&lt;filename&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This takes all the usual variants; difftool, --name-only, etc

==== Between my current HEAD and origin/&lt;branch&gt;
As shown above in "what would I get from a git pull"

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log HEAD..origin/develop              - two dots    #&lt;1&gt;
or maybe</p>
</div>
<div class="paragraph">
<p>$ git difftool HEAD&#8230;&#8203;origin/develop        - three dots! #&lt;2&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== List remote Git branches by author, sorted by commit date:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git for-each-ref --format='%(committerdate) %09 %(authorname) %09 %(refname)' --sort=committerdate</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Fields available for 'format'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>== Advanced/Internals
=== View a git object
https://git-scm.com/book/en/v2/Git-Internals-Git-Objects[git-scm.com]

=== Add your own object to the repository
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ echo 'test content' | git hash-object -w --stdin
d670460b4b4aece5915caf5c68d12f560a9fe3e4</p>
</div>
<div class="listingblock">
<div class="content">
<pre>In its simplest form, git hash-object would take the content you handed to it and merely return the unique key that would be used to store it in your Git database. The -w option then tells the command to not simply return the key, but to write that object to the database. Finally, the --stdin option tells git hash-object to get the content to be processed from stdin; otherwise, the command would expect a filename argument at the end of the command containing the content to be used. +
This will be soted here: +
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ find .git/objects -type f
.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4</p>
</div>
<div class="listingblock">
<div class="content">
<pre>We can use Git to retrieve the data from the object database

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cat-file -p 83baae61804e65cc73a7201a7252750c76066a30 &gt; test.txt
$ cat test.txt
version 1</p>
</div>
<div class="listingblock">
<div class="content">
<pre>You can have Git tell you the object type of any object in Git, given its SHA-1 key, with git cat-file -t:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cat-file -t 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a
blob</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Tree Objects
The tree solves the problem of storing the filename and also allows you to store a group of files together. Git stores content in a manner similar to a UNIX filesystem, but a bit simplified. All the content is stored as tree and blob objects, with trees corresponding to UNIX directory entries and blobs corresponding more or less to inodes or file contents. A single tree object contains one or more entries, each of which is the SHA-1 hash of a blob, or a subtree with its associated mode, type, and filename. For example, the most recent tree in a project may look something like this:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cat-file -p master^{tree}
100644 blob a906cb2a4a904a152e80877d4088654daad0c859      README
100644 blob 8f94139338f9404f26296befa88755fc2598c289      Rakefile
040000 tree 99f1a6d12cb4b6f19c8655fca46c3ecf317074e0      lib</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== List all the objects in your repository

(from stackoverflow)

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>#!/bin/bash
set -e
shopt -s nullglob extglob</p>
</div>
<div class="paragraph">
<p>cd &#8220;git rev-parse --git-path objects&#8221;</p>
</div>
<h1 id="packed-objects" class="sect0"><a class="anchor" href="#packed-objects"></a>packed objects</h1>
<div class="paragraph">
<p>for p in pack/pack-*([0-9a-f]).idx ; do
    git show-index &lt; $p | cut -f 2 -d ' '
done</p>
</div>
<h1 id="loose-objects" class="sect0"><a class="anchor" href="#loose-objects"></a>loose objects</h1>
<div class="paragraph">
<p>for o in [0-9a-f][0-9a-f]/*([0-9a-f]) ; do
    echo ${o/\/}
done</p>
</div>
<div class="listingblock">
<div class="content">
<pre>This is pretty fast. A slightly slower way will show you the type and size:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cat-file --unordered --batch-check --batch-all-objects</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The `--unordered` speeds up retrieval as if you're going to access the contents of every object in a packfile, it's generally much more efficient to do so in pack order, rather than in hash order.

Change to below to trim off the type &amp; size:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git cat-file --batch-check --batch-all-objects | cut -d' ' -f1</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: Maybe ls-tree is probably easier to remember? +
`git ls-tree -r HEAD --name-only`

=== Pack/Repack/Unpack

==== How to unpack a pack file
If you currently have everything packed (no loose objects) and you want to unpack your objects you can with `git unpack-objects`. +
Git won't unpack any objects that you currently have in your repo, so if you want loose objects rather than packed, you need to move the pack files out of the repository and then call unpack. So from this answer (https://stackoverflow.com/questions/16972031/how-to-unpack-all-objects-of-a-git-repository)

 You need to move the pack objects outside the .git/objects/pack directory before using the command. However, the pack files need to be inside the repository.*

 For example, create a directory name SAMPLE in your project's root. Then, move the pack files to SAMPLE directory. After that, inside the repository without the pack files, use the command

 $ git unpack-objects &lt; SAMPLE/*.pack

 Git will generate all objects inside .git/objects directory of your repository.

+++*+++ I don't think this last sentence is true.

=== Ancestry References
(from link:https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection[git-scm] book) +

The other main way to specify a commit is via its ancestry. If you place a ^ (caret) at the end of a reference, Git resolves it to mean the parent of that commit. Suppose you look at the history of your project:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log --pretty=format:'%h %s' --graph
* 734713b Fix refs handling, add gc auto, update tests
*   d921970 Merge commit 'phedders/rdocs'
|\
| * 35cfb2b Some rdoc changes
* | 1c002dd Add some blame and merge stuff
|/
* 1c36188 Ignore *.gem
* 9b29157 Add open3_detach to gemspec file list</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Then, you can see the previous commit by specifying HEAD^, which means “the parent of HEAD”:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show HEAD^
commit d921970aadf03b3cf0e71becdaab3147ba71cdef
Merge: 1c002dd&#8230;&#8203; 35cfb2b&#8230;&#8203;
Author: Scott Chacon &lt;<a href="mailto:schacon@gmail.com">schacon@gmail.com</a>&gt;
Date:   Thu Dec 11 15:08:43 2008 -0800</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Merge commit 'phedders/rdocs'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>[NOTE]
====
*Escaping the caret on Windows* +

On Windows in cmd.exe, ^ is a special character and needs to be treated differently. You can either double it or put the commit reference in quotes:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show HEAD^     # will NOT work on Windows
$ git show HEAD^^    # OK
$ git show "HEAD^"   # OK</p>
</div>
<div class="listingblock">
<div class="content">
<pre>====

You can also specify a number after the `^` to identify which parent you want; for example, `d921970^2` means “the second parent of d921970.” This syntax is useful only for merge commits, which have more than one parent — the first parent of a merge commit is from the branch you were on when you merged (frequently `master`), while the second parent of a merge commit is from the branch that was merged (say, `topic`):

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show d921970^
commit 1c002dd4b536e7479fe34593e72e6c6c1819e53b
Author: Scott Chacon &lt;<a href="mailto:schacon@gmail.com">schacon@gmail.com</a>&gt;
Date:   Thu Dec 11 14:58:32 2008 -0800</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Add some blame and merge stuff</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show d921970^2
commit 35cfb2b795a55793d7cc56a6cc2060b4bb732548
Author: Paul Hedderly &lt;<a href="mailto:paul+git@mjr.org">paul+git@mjr.org</a>&gt;
Date:   Wed Dec 10 22:22:03 2008 +0000</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Some rdoc changes</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>The other main ancestry specification is the `~` (tilde). This also refers to the first parent, so `HEAD~` and `HEAD^` are equivalent. The difference becomes apparent when you specify a number. `HEAD~2` means “the first parent of the first parent,” or “the grandparent” — it traverses the first parents the number of times you specify. For example, in the history listed earlier, `HEAD~3` would be:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show HEAD~3
commit 1c3618887afb5fbcbea25b7c013f4e2114448b8d
Author: Tom Preston-Werner &lt;<a href="mailto:tom@mojombo.com">tom@mojombo.com</a>&gt;
Date:   Fri Nov 7 13:47:59 2008 -0500</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Ignore *.gem</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>This can also be written `+++HEAD~~~+++`, which again is the first parent of the first parent of the first parent:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show HEAD<sub>~</sub>
commit 1c3618887afb5fbcbea25b7c013f4e2114448b8d
Author: Tom Preston-Werner &lt;<a href="mailto:tom@mojombo.com">tom@mojombo.com</a>&gt;
Date:   Fri Nov 7 13:47:59 2008 -0500</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Ignore *.gem</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>You can also combine these syntaxes — you can get the second parent of the previous reference (assuming it was a merge commit) by using `HEAD~3^2`, and so on.

Here's a diagram showing how to refer to ancestors using the caret.

[source]</pre>
</div>
</div>
<div class="paragraph">
<p>G   H   I   J
 \ /     \ /
  D   E   F
   \  |  / \
    \ | /   |
     \|/    |
      B     C
       \   /
        \ /
         A
A =      = A^0
B = A^   = A^1     = A~1
C = A^2
D = A^^  = A<sup>1</sup>1   = A~2
E = B^2  = A^^2
F = B^3  = A^^3
G = A<sup>^</sup> = A<sup>1</sup>1^1 = A~3
H = D^2  = B^^2    = A<sup>^</sup>2  = A~2^2
I = F^   = B<sup>3</sup>    = A<sup>^3</sup>
J = F^2  = B<sup>3</sup>2   = A<sup>^3</sup>2</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Summary
* &lt;rev&gt;~&lt;n&gt; goes backward n parents from rev, selecting the first parent each time.
* Use &lt;rev&gt;^&lt;n&gt; to select the n-th immediate parent of merge commit rev.
* Use ~ most of the time — to go back a number of generations and always choosing the first parent of merge commits, commonly what you want.
* Use ^ on merge commits — because they have two or more immediate parents.
* Selecting a particular immediate parent of a merge commit by its index order, e.g., B^3, is rare. It’s also error-prone. Just use a hash when you can.

*Mnemonics* +

* Tilde `~` is almost linear in appearance and wants to go backward in a straight line.
* Caret `^` suggests a merge commit: an interesting segment of a tree or a fork in the road.

A useful discussion is link:https://stackoverflow.com/questions/2221658/whats-the-difference-between-head-and-head-in-git[here]

//----------------------------------------------------------------------------------
== Gotchas

=== Empty folders/directories
Git tracks files with paths, not folders. An empty folder won't get tracked by git. If you want empty folders tracked they need to have a file of some sort (zero bytes is fine)

Find if you have any empty folders before doing the initial add using bash with:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ find -empty -type d</p>
</div>
<div class="listingblock">
<div class="content">
<pre>and create some empty files like this:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ find * -type d -empty -exec touch {}/.emptydir \;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or, create a `.gitignore` file in each folder that tells git to ignore everything in there apart from the .gitignore file

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ find * -type d -empty -exec sh -c   <span class="menuseq"><b class="menu">echo $'*\n! .gitignore'</b>&#160;<b class="caret">&#8250;</b> <b class="menuitem">{}/.gitignore</b></span> \;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Are you really up to date?

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout master
Switched to branch 'master'
Your branch is up-to-date with 'origin/master'.</p>
</div>
<div class="paragraph">
<p>$</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If you do a

 "$ git checkout master"

without having done a

 "$ git fetch"

first, then your local copy of *origin/master* branch may not be as same as the _master_ branch at the _origin_ repository and so you think you're up to date and you're not.

//----------------------------------------------------------------------------------
== "Cheat sheet"

=== Reset or revert a file to a specific revision
I have made some changes to a file which has been committed a few times as part of a group of files, but now want to reset/revert the changes on it back to a previous version.

There are (at least) two ways, the way that worked for me:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout &lt;commit hash&gt;&#8201;&#8212;&#8201;file1/to/restore file2/to/restore</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: I think you can use a branch name in place of the &lt;commit hash&gt;

the other way to do it (apparently) is, although I've not tried this.

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reset &lt;commit hash&gt; &lt;filename&gt;</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NOTE: You may need to use the --hard option if you have local modifications.

=== Accidentally committed and pushed some local changes
Accidentally committed and pushed some local changes. Reverted the commit, and to get the local changes back:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff HEAD~2 HEAD~1 | git apply</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Completely replace master with a branch
(from https://stackoverflow.com/questions/2862590/how-to-replace-master-branch-in-git-entirely-from-another-branch) +

If you checkout your current branch and merge the master into it with the ‘ours’ strategy, it has the effect of absorbing the master into your current branch but not using anything of the master. This way, when you checkout the master and do an ordinary fast forward merge of your feature branch, the merge commit will be exactly like your feature branch, effectively making it seem like you replaced the master with your feature branch.

You should be able to use the "ours" merge strategy to overwrite master with feature-branch like this:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git checkout feature-branch
$ git merge -s ours --no-commit master
$ git commit  # Add a message regarding the replacement that you just did
$ git checkout master
$ git merge feature-branch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The result should be your master is now essentially feature-branch.

(-s ours is short for --strategy=ours)

From the docs about the 'ours' strategy:</pre>
</div>
</div>
<div class="paragraph">
<p>This resolves any number of heads, but the resulting tree of the merge is always that of the current branch head, effectively ignoring all changes from all other branches. It is meant to be used to supersede old development history of side branches. Note that this is different from the -Xours option to the recursive merge strategy.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>WARNING: This shouldn't be confused with the The 'recursive ours' strategy; that option forces conflicting hunks to be auto-resolved cleanly by favouring 'our' version. Changes from the other tree that do not conflict with our side are reflected to the merge result (for a binary file, the entire contents are taken from our side).


Alternatively, you could just move the branch comme ca:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git branch -f master feature-branch    # will rewrite local master branch
$ git push remote +feature-branch:master # will rewrite remote branch</p>
</div>
<div class="listingblock">
<div class="content">
<pre>but then there's no history about what happened.

NOTE: remember to push both branches if you're working with bitbucket or similar. +

If you try merging in the opposite direction using __recursive-theirs__, you will get a mixed result with _theirs_ only being used when a conflict arises.

=== Got an old Stash?
If you have a stash that was created a while ago, performing a

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff stash@{0}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>will include all the changes since the stash was created which is often not what you want. If you want to know what you stashed at the time

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ $ git difftool stash@{0}^ stash@{0}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>will do a diff against the commit that the stash was based on.

[NOTE]
====
There is an odd quirky command that will do the same:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff stash@{0}^!</p>
</div>
<div class="listingblock">
<div class="content">
<pre>`commit^!` is a range specifier which means: this commit, but none of its parents. It's equivalent to specifying: +
`commit ^parent1 ^parent2 ^parentN`

From link:https://stackoverflow.com/questions/25651269/what-does-caret-bang-after-the-commit-hash-do-when-calling-git-diff[stackoverflow]:

 For diff this does not make sense (you can only compare two trees) From testing, the command seems to show the differences between the merge base of the parents and the last parent. I think git (mis)interprets the parameters similar to the range A...B which will show the differences between the merge-base A B and B (git diff parent1...parent2 will produce the same diff). Not sure what will happen in the case of an octopus-merge.

 I might be wrong though, these are just assumptions I drew from testing with a repository and looking into the git code (builtin/diff.c).

====

=== Lost your way? Done a git reset when you shouldn't have?
(from link:https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection[git-scm] book)

One of the things Git does in the background while you’re working away is keep a “reflog” — a log of where your HEAD and branch references have been for the last few months.

You can see your reflog by using git reflog:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git reflog
734713b HEAD@{0}: commit: Fix refs handling, add gc auto, update tests
d921970 HEAD@{1}: merge phedders/rdocs: Merge made by the 'recursive' strategy.
1c002dd HEAD@{2}: commit: Add some blame and merge stuff
1c36188 HEAD@{3}: rebase -i (squash): updating HEAD
95df984 HEAD@{4}: commit: # This is a combination of two commits.
1c36188 HEAD@{5}: rebase -i (squash): updating HEAD
7e05da5 HEAD@{6}: rebase -i (pick): updating HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Every time your branch tip is updated for any reason, Git stores that information for you in this temporary history. You can use your reflog data to refer to older commits as well. For example, if you want to see the fifth prior value of the HEAD of your repository, you can use the `@{5}` reference that you see in the reflog output:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show HEAD@{5}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>You can also use this syntax to see where a branch was some specific amount of time ago. For instance, to see where your master branch was yesterday, you can type:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show master@{yesterday}</p>
</div>
<div class="listingblock">
<div class="content">
<pre>That would show you where tip of your master branch was yesterday. This technique only works for data that’s still in your reflog, so you can’t use it to look for commits older than a few months.

To see reflog information formatted like the git log output, you can run git log -g:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git log -g master
commit 734713bc047d87bf7eac9674765ae793478c50d3
Reflog: master@{0} (Scott Chacon &lt;<a href="mailto:schacon@gmail.com">schacon@gmail.com</a>&gt;)
Reflog message: commit: Fix refs handling, add gc auto, update tests
Author: Scott Chacon &lt;<a href="mailto:schacon@gmail.com">schacon@gmail.com</a>&gt;
Date:   Fri Jan 2 18:32:33 2009 -0800</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Fix refs handling, add gc auto, update tests</pre>
</div>
</div>
<div class="paragraph">
<p>commit d921970aadf03b3cf0e71becdaab3147ba71cdef
Reflog: master@{1} (Scott Chacon &lt;<a href="mailto:schacon@gmail.com">schacon@gmail.com</a>&gt;)
Reflog message: merge phedders/rdocs: Merge made by recursive.
Author: Scott Chacon &lt;<a href="mailto:schacon@gmail.com">schacon@gmail.com</a>&gt;
Date:   Thu Dec 11 15:08:43 2008 -0800</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Merge commit 'phedders/rdocs'</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>It’s important to note that reflog information is strictly local — it’s a log only of what you’ve done in your repository. The references won’t be the same on someone else’s copy of the repository; also, right after you initially clone a repository, you’ll have an empty reflog, as no activity has occurred yet in your repository. Running git show HEAD@{2.months.ago} will show you the matching commit only if you cloned the project at least two months ago — if you cloned it any more recently than that, you’ll see only your first local commit.

[TIP]
====
Think of the reflog as Git’s version of shell history. +
If you have a UNIX or Linux background, you can think of the reflog as Git’s version of shell history, which emphasizes that what’s there is clearly relevant only for you and your “session”, and has nothing to do with anyone else who might be working on the same machine.
====

[Note]
====
Escaping braces in PowerShell
When using PowerShell, braces like { and } are special characters and must be escaped. You can escape them with a backtick ` or put the commit reference in quotes:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git show HEAD@{0}     # will NOT work
$ git show HEAD@<code>{0</code>}   # OK
$ git show "HEAD@{0}"   # OK</p>
</div>
<div class="listingblock">
<div class="content">
<pre>====

TIP: To show date/time info try +
 `$ git reflog --date=iso` +

In fact you can use many of the git log options like `--pretty=short` etc

=== Move a branch to a different commit

Either

[source,bash]</pre>
</div>
</div>
<h1 id="switch-branch-without-checking-out-files-useful-for-bare-repos-or-guerilla-tactics-with-clearcase" class="sect0"><a class="anchor" href="#switch-branch-without-checking-out-files-useful-for-bare-repos-or-guerilla-tactics-with-clearcase"></a>switch branch without checking out files, useful for bare repos or guerilla tactics with clearcase</h1>
<div class="paragraph">
<p>branch-nocheckout = "!f() { git symbolic-ref HEAD refs/heads/$1 &amp;&amp; git reset; }; f"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git branch --force &lt;branch-name&gt; [&lt;new-tip-commit&gt;]</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If `new-tip-commit` is omitted, it defaults to the current commit. +
`new-tip-commit` can be a branch name (e.g., master, origin/master).

==== A slightly safe version of a force push

image::git-push-force.jpg[align="center"]

It is suggested in our guides that we prefer the flag `--force-with-lease` over `--force` to the git push command. This option allows one to force push without the risk of unintentionally overwriting someone else’s work. It will update remote references only if it has the same value as the remote-tracking branch we have locally. In other words, only if nobody has updated the branch upstream. If there are new remote commits, `--force-with-lease` will fail with a "stale info" message, prompting us to fetch first.



//----------------------------------------------------------------------------------

== Tips

=== Perform Actions/Operations only on Changed/New Files
==== Method 1
We can run commands only on modified files using git status and xargs, for both changed and new files by filtering on different markers printed out by `git status -s`.

Change the `grep` or `ls -l` to your desired command

New files have '??' next to them and modified files have 'M', so either the first for modified files

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git status -s | grep ' M ' | cut -f3 -d' ' | xargs grep -i "#pragma"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>or this for new (un-added) files

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git status -s | grep '??' | cut -f2 -d' ' | xargs ls -l</p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== Method 2
To search only modified files for example for the string "bailing", we can pipe the filenames through to grep:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff-index --name-only HEAD | xargs grep -iH "bailing"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>but it's probably more efficient to use:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git diff-index -U --cached -G &lt;regexp&gt; HEAD</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[small]#**U** means only one line displayed, *--cached* means only the index#

The command `git grep` is useful to search only files in your worktree or just in the (cached) index. So to check for debug left in the files your are committing:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git grep --cached 'qDebug'&#8201;&#8212;&#8201;'*.cpp'</p>
</div>
<div class="listingblock">
<div class="content">
<pre>One of these is probably worth an alias:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>grep-changed = "!f(){ git diff-index -U -G \"$@\" HEAD; };f "
grep-staged  = "!f(){ git diff-index -U --cached -G \"$@\" HEAD; };f "</p>
</div>
<div class="listingblock">
<div class="content">
<pre>//----------------------------------------------------------------------------------
== Troubleshooting
(Trouble with git actually functioning)

=== Unable to add files with name containing tilde, '~' followed by a number

On Windows' default filesystems, FAT and NTFS, DOS-style 8.3 file names are supported for backwards compatibility. That means that there are multiple ways to reference the same file. For example, the file credential-cache--daemon.c can also be accessed via CREDEN~1.C (unless another file has already been mapped to that so-called "short name", i.e. the exact short name is unpredictable).

Since this mapping is unpredictable, we need to disallow such file names on Windows, and while at it, we also exclude other file names incompatible with Windows' file systems (e.g. NUL, CON, etc).

We use the core.protectNTFS guard introduced in the previous commit to make sure that we prevent such file names only when appropriate.

To disable this behaviour, you can run:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git config core.protectNTFS false</p>
</div>
<div class="listingblock">
<div class="content">
<pre>However, since the new behaviour is there to protect you, I’d recommend changing it back after having added your files:
[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>git config core.protectNTFS true</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Only disable this protection when you need to add files with tildes in the name or check out branches containing such filenames.

=== A caution about branch names with '/'s
[source]</pre>
</div>
</div>
<div class="paragraph">
<p>"unable to create directory for .git/refs/heads/&#8230;&#8203;"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>From https://coderwall.com/p/qkofma/a-caution-about-git-branch-names-with-s

The problem here is that the slashes in the name actually cause a folder heirachy to be written in the .refs folder. In one way this is lovely and fine but can trip you up. +
If you create a branch called _wip/foo_ everything is fine. What git actually does is create a file called _foo_ in a folder called __wip__. +
The problem comes when you would like to create a branch called _wip/foo/bar_. This then tries to create a file called bar in a folder called _foo_ which exists in __wip__. It cannot create the _foo_ folder as there is already a _foo_ file, so it fails.

=== fatal: Out of memory, malloc failed
Try:</pre>
</div>
</div>
<div class="paragraph">
<p>threads = 1
deltaCacheSize = 128m
packSizeLimit = 128m
windowMemory = 128m</p>
</div>
<div class="paragraph">
<p>packedGitLimit = 128m
packedGitWindowSize = 128m</p>
</div>
<div class="listingblock">
<div class="content">
<pre>I've actually set

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global pack.threads 2
$ git config --global pack.windowMemory 1g
$ git config --global pack.packSizeLimit 1g</p>
</div>
<div class="listingblock">
<div class="content">
<pre>=== Disable LFS when PUSHing
If when you PUSH, the LFS objects get pushed first and fails for whatever reason, try pushing without verify. This disables the pre-push hooks an should ensure that the main objects are pushed successfully.

 ianc@ianc-VirtualBox1:~/remotegit/qx_sw$ git push shared HEAD
 EOFoading LFS objects: 100% (429/429), 1.0 GB | 0 B/s
 EOF
 EOF
 EOF
 EOF
 EOF
 Uploading LFS objects: 100% (429/429), 1.0 GB | 0 B/s, done.
 error: failed to push some refs to '/home/ianc/shared/qx_sw.git'

 ianc@ianc-VirtualBox1:~/remotegit/qx_sw$ git push shared --no-verify HEAD
 Enumerating objects: 2972, done.
 Counting objects: 100% (2573/2573), done.
 Delta compression using up to 12 threads
 Compressing objects: 100% (1188/1188), done.
 Writing objects: 100% (2107/2107), 926.80 KiB | 1.78 MiB/s, done.
 Total 2107 (delta 1642), reused 1306 (delta 911), pack-reused 0
 remote: Resolving deltas: 100% (1642/1642), completed with 398 local objects.
 To /home/ianc/shared/qx_sw.git
 * [new branch]     HEAD -&gt; PJ70-437/wip/investigate_multiple_ipcore_datacores

//----------------------------------------------------------------------------------
== Branch naming
=== Broad Format
 [CATEGORY]-description-[JIRA-NUMBER]

=== Category
* tryout +
for playing about
* bugfix
* feature
* revisit +
means initial feature was completed, but now some further development is required +
This should be indicated by a */n* at the end of the branch name where +1 &lt; n &lt; 9+, for example: `revisit/pmws/master/record-management-screen-LT-2424/1` +
As the slash characters are represented in windows by a directory structure, the "revisitations" are stored at the bottom of the structure. +
*Every* revisitation should have an appended integer.

* change +
feature changes the way it’s implemented
* improve +
not a new feature, just making something work better
* merge +
temporary branches when doing feature merges
* release +
a release branch
* candidate +
a release candidate; eminently disposable after the release is made

[WARNING]
==============================
In window at least, you are not allowed to create a branch that extends a previously existing branch by adding extra slashes. For example, if a branch such as `develop/feature` then you cannot create a branch such as `develop/feature/subfeature`.

This is because git will have stored in the filesystem a file called "feature" in a folder called "develop". When you try to create the second branch, git will try to create a file called "subfeature" in the path "develop/feature". this cannot be done as you cannot have the file "feature" and also a folder "feature" contained within "develop".
==============================

== Tag naming
* branched +
This is a tag that is applied when I create a feature/bugfix/etc branch that shows where the branch originated as this information can sometimes get obscured. +
the format will be the same as the branch name; for example:

`branched/feature/1.12/LTSYS-5/aux-audio`

* tagged +
Used when I want to leave a marker where something happened or where a branch was moved from or other maintenance tasks. The tag should be annotated and therefore of the format:

[source,bash]</pre>
</div>
</div>
<div class="paragraph">
<p>$ git tag -a tagged/&lt;free text&gt; -m "&lt;explanatory text&gt;"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>//----------------------------------------------------------------------------------
== Online help
* https://help.github.com/

== Github

=== Personal Access Tokens
(from link:https://stackoverflow.com/questions/68775869/message-support-for-password-authentication-was-removed-please-use-a-personal[stackoverflow])

==== Create Personal Access Token on GitHub
From your GitHub account, go to: +

Settings → Developer Settings → Personal Access Token → Generate New Token (Give your password) +
→ Fillup the form → click Generate token → Copy the generated Token +

it will be something like `ghp_sFhFsSHhTzMDreGRLjmks4Tzuzgthdvfsrta`

==== For Windows OS ⤴
1. Go to Credential Manager from Control Panel →
1. Windows Credentials →
1. find `git:https://github.com` →
1. Edit +
→ On Password replace with with your GitHub Personal Access Token
1. You are Done

*If you don’t find git:https://github.com* +

1. Click on Add a generic credential
1. Internet address will be `git:https://github.com`
1. add username
1. password will be your GitHub Personal Access Token

Click Ok and you are done!

===== OR

1. Go to this link: https://github.com/settings/tokens (Profile -&gt; settings -&gt; developers setting -&gt; personal access tokens). (don't go to repository setting; it's your profile setting) +

1. Generate a new token and copy-paste it somewhere safely.

1. Search for an application in your Windows OS, named Credential Manager → then Windows Credentials.

1. Search for github.com and edit the password with the token you have generated on GitHub. Now enjoy!

===== Developer's hack (shortcode):</pre>
</div>
</div>
<div class="paragraph">
<p>git remote set-url origin <a href="https://&lt;githubtoken&gt;@github.com/&lt;username&gt;/&lt;repositoryname&gt;.git" class="bare">https://&lt;githubtoken&gt;@github.com/&lt;username&gt;/&lt;repositoryname&gt;.git</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>While cloning:</pre>
</div>
</div>
<div class="paragraph">
<p>git clone <a href="https://&lt;username&gt;:&lt;githubtoken&gt;@github.com/&lt;username&gt;/&lt;repositoryname&gt;.git" class="bare">https://&lt;username&gt;:&lt;githubtoken&gt;@github.com/&lt;username&gt;/&lt;repositoryname&gt;.git</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>==== For a Linux-based OS ⤴
For Linux, you need to configure the local GIT client with a username and email address,</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global user.name "your_github_username"
$ git config --global user.email "your_github_email"
$ git config -l</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Once GIT is configured, we can begin using it to access GitHub. Example:</pre>
</div>
</div>
<div class="paragraph">
<p>$ git clone <a href="https://github.com/YOUR-USERNAME/YOUR-REPOSITORY" class="bare">https://github.com/YOUR-USERNAME/YOUR-REPOSITORY</a>
&gt; Cloning into <code>YOUR-REPOSITORY</code>&#8230;&#8203;
Username: &lt;type your username&gt;
Password: &lt;type your password or personal access token (GitHub)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Now cache the given record in your computer to remembers the token:</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global credential.helper cache</p>
</div>
<div class="listingblock">
<div class="content">
<pre>If needed, anytime you can delete the cache record by:</pre>
</div>
</div>
<div class="paragraph">
<p>$ git config --global --unset credential.helper
$ git config --system --unset credential.helper</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Now try to pull with -v to verify</pre>
</div>
</div>
<div class="paragraph">
<p>$ git pull -v</p>
</div>
<div class="listingblock">
<div class="content">
<pre>===== Linux/Debian (Clone as follows):</pre>
</div>
</div>
<div class="paragraph">
<p>git clone <a href="https://&lt;tokenhere&gt;@github.com/&lt;user&gt;/&lt;repo&gt;.git" class="bare">https://&lt;tokenhere&gt;@github.com/&lt;user&gt;/&lt;repo&gt;.git</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre></pre>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. from <a href="https://github.com/msysgit/msysgit/releases" class="bare">https://github.com/msysgit/msysgit/releases</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2026-01-13 17:04:16 UTC
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html>